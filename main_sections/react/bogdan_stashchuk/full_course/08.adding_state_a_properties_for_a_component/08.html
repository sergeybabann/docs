<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>08 Добавление состояния и свойств для компонента</title>
    <link rel="stylesheet" href="../../../../../css/normalize.css">
    <link rel="stylesheet" href="../../../../../css/vars.css">
    <link rel="stylesheet" href="../../../../../css/main.css">
    <link rel="stylesheet" href="../../../../../css/header.css">
    <link rel="stylesheet" href="../../../../../css/content.css">
    <link rel="stylesheet" href="../../../../../css/sidebar_1.css">
    <link rel="stylesheet" href="../../../../../css/sidebar_2.css">
    <link rel="stylesheet" href="../../../../../css/footer.css">
    <link rel="stylesheet" href="../../../../../css/templates.css">
</head>

<body>

    <div class="wrapper">
        <!----- HEADER ----->
        <div class="header general__area-1">
            <a name="HEADER"></a>
            <div class="header__space">
                <div class="header__descr">
                    <h1 class="header__h1">
                        Обучающий<br> курс
                    </h1>
                    <span class="header__descr-1">Полный курс React
                    </span>
                    <ul class="header__descr-2">
                        <li>Источник: Udemy</li>
                        <li>Автор: Богдан Сташчук</li>
                        <li>Спецификация: React</li>
                    </ul>
                </div><!--tutorial__descr-->
                <ul class="header__navmenu-list">
                    <li class="header__navmenu-item">
                        <a href="../../../../index.html" class="header__navmenu-link">Главная страница сайта</a>
                    </li>
                    <li class="header__navmenu-item">
                        <a href="../../../react.html" class="header__navmenu-link">Курсы React</a>
                    </li>
                    <li class="header__navmenu-item">
                        <a href="../course.html" class="header__navmenu-link">Главная
                            страница курса</a>
                    </li>
                </ul>
            </div><!--header__space-->
        </div><!--header-->




        <!----- ASIDE-1 ----->
        <div class="aside-1 general__area-1">
            <ul class="aside-1__index-search-list">
                <li class="aside-1__index-search-item">
                    <a class="aside-1__index-search-link" href="../01_introduction_to_react/01.html">1 Введение в
                        React</a>
                </li>
                <li class="aside-1__index-search-item">
                    <a class="aside-1__index-search-link" href="../02_basics_and_key_concepts_in_react/02.html">2 Основы
                        и ключевые понятия в React</a>
                </li>
                <li class="aside-1__index-search-item">
                    <a class="aside-1__index-search-link" href="../03_course_programs/03.html">3 Программы для курса</a>
                </li>
                <li class="aside-1__index-search-item">
                    <a class="aside-1__index-search-link" href="../04_project_with_vanilla_js/04.html">4 Проект с
                        Vanilla JS</a>
                </li>
                <li class="aside-1__index-search-item">
                    <a class="aside-1__index-search-link" href="../05_connecting_the_react_library/05.html">5
                        Подключение библиотеки React</a>
                </li>
                <li class="aside-1__index-search-item">
                    <a class="aside-1__index-search-link" href="../06_project_with_jsx/06.html">6 Проект c
                        JSX</a>
                </li>
                <li class="aside-1__index-search-item">
                    <a class="aside-1__index-search-link"
                        href="../07.react_project_with_button_changing on_click/07.html">7 Проект React с изменением
                        кнопки при нажатии</a>
                </li>
                <li class="aside-1__index-search-item">
                    <a class="aside-1__index-search-link" href="#">8 Добавление состояния и свойств
                        для компонента</a>
                </li>
            </ul><!--aside-1__index-search-list-->
        </div><!--aside-1-->






        <!----- CONTENT ----->
        <div class="main general__area-1">
            <h2 class="main__h2">8 Добавление состояния и свойств для компонента</h2>
            <div class="main__wrapper">

                <!----- 61. Добавление состояния компонента с помощью хука useState ----->
                <a name="ADDING_COMPONENT_STATE_USING_THE_USESTATE_HOOK"></a>
                <div class="main__title-1">61. Добавление состояния компонента с помощью хука useState</div>
                <p class="main__p">
                    Мы обсуждали ранее, что такое свойство и что такое состояние компонента. Так вот значение для
                    переменной buttonText - это состояние компонента. Потому что, оно меняется на протяжении жизненного
                    цикла компонента. То есть мы изначально показываем на этой кнопке текст Click me please, но во время
                    жизненноого цикла этой кнопки этого компонента мы хотим поменять этот текст на другой - Hello from
                    React. Соответственно здесь для корректного изменения текста на кнопке мы должны добавить состояние
                    для этого компонента. И изменять это состояние, когда мы нажимаем на кнопку.
                </p>

                <p class="main__subtitle-1">
                    Создание состояния в функциональном компоненте и его изменение.
                </p>
                <p class="main__p">
                    Итак, давайте удалим выводы в консоль, чтобы они нам не мешали. И теперь я покажу как можно создать
                    состояние в функциональном компоненте и как его можно изменять. Делается это с помощью React Hook,
                    который называется UseState.
                </p>
                <p class="main__p">
                    Мы должны вызвать функцию UseState, которая является методом объекта React, то есть пишем
                    React.useState(), вызываем эту функцию и этой функции мы должны передать начальное значение для
                    определенной переменной. А у нас здесь переменная одна - buttonText, и ее значение мы хотим
                    изменять, потому мы вызываем метод useState и передаем ему строку Click me.
                </p>
                <p class="main__p">
                    Обращаю ваше внимание на то, что у нас есть доступ к переменной React потому, что мы добавили
                    библиотеку React в нашем html документе. И мы ранее проаеряли, что переменная React доступна.
                    Проверим еще раз это же. И в console веб-браузера пишем React и нажимаем enter. Видим объект, и у
                    этого объекта есть свойство под названием useState, следовательно мы можем вызывать этот метод.
                </p>
                <p class="main__p">
                    Вернемся обратно в наш script.js и здесь мы уже вызвали метод useState. Этот метод возвращает массив
                    из 2-ух элементов. И этот массив путем деструктуризации в JavaScript мы можем разбить на 2 элемента.
                    То есть добавить знак присваивания, написать const, добавляем пару квадратных скобок, потому что мы
                    выполняем деструктуризацию массива, и здесь мы укажем название 2-ух переменных: 1-ая переменная -
                    buttonText, 2-ая переменная - setButtonText.
                </p>
                <p class="main__p">
                    И теперь эта строка нам не нужна: let buttonText = 'Click me', удаляем ее. Потому, что мы объявляем
                    переменную buttonText в массиве, непосредственно на этой строке в процессе деструктуризации
                    результата вызова метода useState. Тем кто не до конца понимает что такое декструктуризация массива
                    нужно этот вопрос изучить.
                </p>
                <p class="main__p">
                    Итак, мы вызвали функцию деструктуризации и после вызова метода useState возвращается масссив из
                    2-ух элементов. И с помощью деструктуризации мы можем присвоить значение элементов массива 2-ум
                    разным переменным: 1-ая переменная - buttonText, 2-ая переменная - setButtonText.
                </p>
                <p class="main__p">
                    И посмотрим пример кода:
                </p>
                <p class="main__p">
                    <button>
                        <a href="61.adding_component_state_using_the_usestate_hook/01_example/script.js"
                            class="main__link" target="_blank">посмотреть пример кода</a>
                    </button>
                </p>
                <p class="main__p">
                    Так вот в данном примере buttonText это будет переменная, которая содержит строку. И начальное
                    значение для переменной buttonText будет вот эта строка в круглых скобках ('Click me'), которую мы
                    передали в вызове метода useState.
                </p>
                <p class="main__p">
                    А вот вторая переменная - setButtonText здесь является функцией. И с помощью этой функции мы сможем
                    указывать новое значение для переменной buttonText. Тогда, когда мы захотим изменить это состояние
                    этого компонента. Потому, что buttonText это часть состояния этого функционального компонента.
                </p>






                <!----- 62. Перезаписывать значения переменных из состояния непрямую нельзя ----->
                <a name="YOU_CANNOT_OVERWRITE_THE_VALUES_OF_VARIABLES_FROM_THE_INDIRECT_STATE"></a>
                <div class="main__title-1">62. Перезаписывать значения переменных из состояния непрямую нельзя</div>
                <p class="main__p">
                    То есть теперь в функции onButtonClick, которая вызывается при нажатии на кнопку, мы должны не
                    просто присвоить новое значение переменной buttonText, а вызвать функцию setButtonText. Но мы можем
                    сделать это и другим образом, как это делали ранее. Просто присвоив новое значение переменной
                    buttonText. Давайте это попробуем сделать.
                </p>
                <p class="main__p">
                    Запустим наш код
                </p>

                <p class="main__p">
                    <button>
                        <a href="62.you_cannot_overwrite_the_values_of_variables_from_the_indirect_state/01_example/index.html"
                            class="main__link" target="_blank">запустить код</a>
                    </button>
                </p>
                <p class="main__p">
                    Заходим в console и мы конечно же видим ошибку: "buttonText" is read-only. Потому что мы здесь
                    объявили переменные buttonText и setButtonText с помощью const. Давайте попробуем поменять const на
                    let и снова запустим код.
                </p>

                <p class="main__p">
                    <button>
                        <a href="62.you_cannot_overwrite_the_values_of_variables_from_the_indirect_state/02_example/index.html"
                            class="main__link" target="_blank">запустить код c let</a>
                    </button>
                </p>
                <p class="main__p">
                    И здесь уже мы этой ошибки не видим, нажимаем на кнопку, но снова ничего не происходит. Текст на
                    кнопке не меняется, не смотря на то, что мы присваиваем новое значение переменной buttonText в этом
                    месте нашего кода:
                </p>
                <p class="main__p">
                    <button>
                        <a href="62.you_cannot_overwrite_the_values_of_variables_from_the_indirect_state/03_example/example_code.txt"
                            class="main__link" target="_blank">посмотреть пример кода</a>
                    </button>
                </p>
                <p class="main__p">
                    Причина в этом та жа самая, что и ранее. Если мы снова выведем строку Called при помощи
                    console.log('Called'), которая говорит о том, что функция была вызвана, мы увидим Called единожды
                    здесь. Запустим код и посмотрим:
                </p>
                <p class="main__p">
                    <button>
                        <a href="62.you_cannot_overwrite_the_values_of_variables_from_the_indirect_state/04.example/index.html"
                            class="main__link" target="_blank">запустить код</a>
                    </button>
                </p>

                <p class="main__p">
                    При нажатии на кнопку мы не видим, чтобы функция вызывалась еще раз. Следовательно React не
                    обновляет JSX, который эта функция вернула при первом и единственным вызове.
                </p>
                <p class="main__p danger">
                    Следовательно, просто присваивать новое значение переменным, которые являются частью состояния
                    компонента, нельзя!
                </p>
                <p class="main__p">
                    Для этого как раз и существует вот эта функция setButtontext(в массиве) в данном случае, с помощью
                    которой мы и можем задавать новое значение для переменной buttonText
                </p>






                <!----- 63. Изменение состояния с помощью вызова функции ----->
                <a name="CHANGING_STATE_USING_A_FUNCTION_CALL"></a>
                <div class="main__title-1">63. Изменение состояния с помощью вызова функции</div>
                <p class="main__p">
                    Итак, отредактируем наш код. Вызовем функцию setButtonText и передадим ей новую строку 'Hello froom
                    React'. Вот так:
                </p>

                <p class="main__p">
                    <button>
                        <a href="63.changing_state_using_a_function_call/01_example/example_code.txt" class="main__link"
                            target="_blank">посмотреть пример вызова функции</a>
                    </button>
                </p>

                <p class="main__p">
                    Запустим отредактированный код:
                </p>
                <p class="main__p">
                    <button>
                        <a href="63.changing_state_using_a_function_call/02_example/index.html" class="main__link"
                            target="_blank">запустить код</a>
                    </button>
                </p>

                <p class="main__p danger">
                    У автора курса код работает исправно, и это видно на видео. То есть после нажатия на кнопку текст на
                    кнопке меняется, и в console добавляется еще одна Called строка. Но у меня этот код не работает!!!
                    Текст на кнопке не меняется, Called не добавляется!!! Если у нас в этом примере идет речь о
                    состоянии компонента, то получается это состояние не меняется. И еще один момент -setButtonText ,
                    что в массиве, тусклого цвета, что говорит о каком-то недочете. ПРи это когда на него наводишь
                    курсор, то всплывает текст - 'setButtonText' is declared but its value is never read.ts(6133)
                    let setButtonText: any
                </p>
                <p class="main__p danger">Нужно разобраться - это критическая ошибка или нет.</p>
                <p class="main__p danger">Двигаемся по курсу дальше, посмотрим как будет работать код.</p>

                <p class="main__p">
                    <button>
                        <a href="" class="main__link" target="_blank">кнопка</a>
                    </button>
                </p>

                <!----- 64.Как меняется реальный DOM при использовании React ----->
                <a name="HOW_THE_REAL_DOM_CHANGES_WHEN_USING_REACT"></a>
                <div class="main__title-1">64. Как меняется реальный DOM при использовании React</div>
                <p class="main__p">

                </p>

                <p class="main__p">
                    <button>
                        <a href="" class="main__link" target="_blank">кнопка</a>
                    </button>
                </p>

                <p class="main__p">
                    <button>
                        <a href="" class="main__link" target="_blank">кнопка</a>
                    </button>
                </p>

                <!----- 65. Чистые функции и функции с побочными эффектами ----->
                <a name="PURE_FUNCTIONS_AND_FUNCTIONS_WITH_SIDE_EFFECTS"></a>
                <div class="main__title-1">65. Чистые функции и функции с побочными эффектами</div>
                <p class="main__p">

                </p>

                <p class="main__p">
                    <button>
                        <a href="" class="main__link" target="_blank">кнопка</a>
                    </button>
                </p>

                <p class="main__p">
                    <button>
                        <a href="" class="main__link" target="_blank">кнопка</a>
                    </button>
                </p>






                <!----- 66. Функции с побочными эффектами в React ----->
                <a name="FUNCTIONS_WITH_SIDE_EFFECTS_IN_REACT"></a>
                <div class="main__title-1">66. Функции с побочными эффектами в React</div>
                <p class="main__p">

                </p>

                <p class="main__p">
                    <button>
                        <a href="" class="main__link" target="_blank">кнопка</a>
                    </button>
                </p>

                <p class="main__p">
                    <button>
                        <a href="" class="main__link" target="_blank">кнопка</a>
                    </button>
                </p>






                <!----- 67. Изменение стилей кнопки при нажатии с помощью React ----->
                <a name="CHANGING_BUTTON_STYLES_ON_CLICK_WITH_REACT"></a>
                <div class="main__title-1">67. Изменение стилей кнопки при нажатии с помощью React</div>
                <p class="main__p">

                </p>

                <p class="main__p">
                    <button>
                        <a href="" class="main__link" target="_blank">кнопка</a>
                    </button>
                </p>

                <p class="main__p">
                    <button>
                        <a href="" class="main__link" target="_blank">кнопка</a>
                    </button>
                </p>






                <!----- 68. Подведение итогов по проекту с изменением кнопки с помощью React ----->
                <a name="SUMMARIZING_A_PROJECT_WITH_A_BUTTON_CHANGE_USING_REACT"></a>
                <div class="main__title-1">68. Подведение итогов по проекту с изменением кнопки с помощью React</div>
                <p class="main__p">

                </p>

                <p class="main__p">
                    <button>
                        <a href="" class="main__link" target="_blank">кнопка</a>
                    </button>
                </p>

                <p class="main__p">
                    <button>
                        <a href="" class="main__link" target="_blank">кнопка</a>
                    </button>
                </p>






                <!----- 69. Добавление свойства для компонента ----->
                <a name="ADDING_A_PROPERTY_TO_A_COMPONENT"></a>
                <div class="main__title-1">69. Добавление свойства для компонента</div>
                <p class="main__p">

                </p>

                <p class="main__p">
                    <button>
                        <a href="" class="main__link" target="_blank">кнопка</a>
                    </button>
                </p>

                <p class="main__p">
                    <button>
                        <a href="" class="main__link" target="_blank">кнопка</a>
                    </button>
                </p>






                <!----- 70. ЗАДАНИЕ - Передать дополнительное свойство ----->
                <a name="TASK-PASS_ADDITIONAL_PROPERTY"></a>
                <div class="main__title-1">70. ЗАДАНИЕ - Передать дополнительное свойство</div>
                <p class="main__p">

                </p>

                <p class="main__p">
                    <button>
                        <a href="" class="main__link" target="_blank">кнопка</a>
                    </button>
                </p>

                <p class="main__p">
                    <button>
                        <a href="" class="main__link" target="_blank">кнопка</a>
                    </button>
                </p>






                <!----- 71. РЕШЕНИЕ - Передать дополнительное свойство ----->
                <a name="SOLUTION-PASS_ADDITIONAL_PROPERTY"></a>
                <div class="main__title-1">71. РЕШЕНИЕ - Передать дополнительное свойство</div>
                <p class="main__p">

                </p>

                <p class="main__p">
                    <button>
                        <a href="" class="main__link" target="_blank">кнопка</a>
                    </button>
                </p>

                <p class="main__p">
                    <button>
                        <a href="" class="main__link" target="_blank">кнопка</a>
                    </button>
                </p>






            </div><!---------------main__wrapper--------------->
        </div><!--------------------main-------------------->






        <!----- ASIDE-2 ----->
        <div class="aside-2 general__area-1">
            <ul class="aside-2__index-search-list">
                <li class="aside-2__index-search-item">
                    <a class="aside-2__index-search-link" href="#ADDING_COMPONENT_STATE_USING_THE_USESTATE_HOOK">61.
                        Добавление состояния компонента с помощью хука
                        useState</a>
                </li>
                <li class="aside-2__index-search-item">
                    <a class="aside-2__index-search-link"
                        href="#YOU_CANNOT_OVERWRITE_THE_VALUES_OF_VARIABLES_FROM_THE_INDIRECT_STATE">62. Перезаписывать
                        значения переменных из состояния
                        непрямую нельзя</a>
                </li>
                <li class="aside-2__index-search-item">
                    <a class="aside-2__index-search-link" href="#CHANGING_STATE_USING_A_FUNCTION_CALL">63. Изменение
                        состояния с помощью вызова функции</a>
                </li>
                <li class="aside-2__index-search-item">
                    <a class="aside-2__index-search-link" href="#HOW_THE_REAL_DOM_CHANGES_WHEN_USING_REACT">64. Как
                        меняется реальный DOM при использовании
                        React</a>
                </li>
                <li class="aside-2__index-search-item">
                    <a class="aside-2__index-search-link" href="#PURE_FUNCTIONS_AND_FUNCTIONS_WITH_SIDE_EFFECTS">65.
                        Чистые функции и функции с побочными
                        эффектами</a>
                </li>
                <li class="aside-2__index-search-item">
                    <a class="aside-2__index-search-link" href="#FUNCTIONS_WITH_SIDE_EFFECTS_IN_REACT">66. Функции с
                        побочными эффектами в React</a>
                </li>
                <li class="aside-2__index-search-item">
                    <a class="aside-2__index-search-link" href="#CHANGING_BUTTON_STYLES_ON_CLICK_WITH_REACT">67.
                        Изменение стилей кнопки при нажатии с помощью
                        React</a>
                </li>
                <li class="aside-2__index-search-item">
                    <a class="aside-2__index-search-link"
                        href="#SUMMARIZING_A_PROJECT_WITH_A_BUTTON_CHANGE_USING_REACT">68. Подведение итогов по проекту
                        с изменением кнопки
                        с помощью React</a>
                </li>
                <li class="aside-2__index-search-item">
                    <a class="aside-2__index-search-link" href="#ADDING_A_PROPERTY_TO_A_COMPONENT">69. Добавление
                        свойства для компонента
                    </a>
                </li>
                <li class="aside-2__index-search-item">
                    <a class="aside-2__index-search-link" href="#TASK-PASS_ADDITIONAL_PROPERTY">70. ЗАДАНИЕ - Передать
                        дополнительное свойство</a>
                </li>
                <li class="aside-2__index-search-item">
                    <a class="aside-2__index-search-link" href="#SOLUTION-PASS_ADDITIONAL_PROPERTY">71. РЕШЕНИЕ -
                        Передать дополнительное свойство</a>
                </li>
            </ul><!--aside-2__index-search-list-->
        </div><!--aside_2-->













        <!----- FOOTER ----->
        <a name=" FOOTER"></a>
        <div class="footer general__area-1">Footer</div>
    </div><!--wrapper-->



</body>

</html>